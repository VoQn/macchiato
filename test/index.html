<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Macchiato.js - Functional Property Testing for JavaScript -</title>
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link href="css/syntax.css" rel="stylesheet" type="text/css">
    <!-- <script src="script/rainbow-custom.min.js" type="text/javascript"></script> -->
    <script src="../src/util.js" type="text/javascript"></script>
    <script src="../src/score.js" type="text/javascript"></script>
    <script src="../src/combinator.js" type="text/javascript"></script>
    <script src="../src/gen.js" type="text/javascript"></script>
    <script src="../src/tester.js" type="text/javascript"></script>
    <script src="../src/check.js" type="text/javascript"></script>
    <script src="../frontend/web.js" type="text/javascript"></script>
    <script src="../src/macchiato.js" type="text/javascript"></script>
    <!-- example test cases -->
    <script src="../example/test_web.js" type="text/javascript"></script>
  </head>
  <body>
    <h1><img src="img/macchiato.png" alt="logo image"><br>Macchiato.js<br><small>Functional Property Testing for JavaScript</small></h1>
    <h2>Example</h2>
    <div>
        <pre class="sample-code"><code data-language="javascript">// registration property test suites
// Macchiato.stock(&lt;Object&gt;)
Macchiato.stock({ 
  // "&lt;LABEL&gt;" : &lt;PROMISE&gt;
  // &lt;PROMISE&gt; := prop(&lt;GENERATOR&gt;, &lt;PROPERTY&gt;)
  'number x, y =&gt; x + y == y + x' : prop(
    // &lt;GENERATOR&gt; := arbitrary( &lt;TYPE-EXPR&gt;, ...)
    arbitrary( 'number', 'number' ),
    // &lt;PROPERTY&gt; := T1 ( -&gt; T2 -&gt; ... Tn) -&gt; Bool
    function( x, y ){ 
      return x + y == y + x;
    }),
  'string str =&gt; str == true' : prop(
    arbitrary( 'string' ),
    function( str ){
      return !!str;
    }),
  'integer x, y =&gt; div(x, y) * y + (x % y) == x' : prop(
    arbitrary( 'integer', 'integer' ),
    function( x, y ){
      return where( [ y != 0 ], function( x, y ){
        var n = Math.floor( x / y ),
            d = Math.floor( x % y );
        return n * y + d == x;
      });
    })
});</code></pre>
    </div>
    <form id="test-control">
      <div>
        <p class="input-with-label" onclick="document.getElementById('test-count').focus()">
          <input id ="test-count" type="text" value="100" onkeyDown="return numOnly()">tests
        </p>
        <p class="input-with-label" onclick="checkVerbose()">
          <input id="verbose" type="checkbox" onclick="setVerbose()">verbose
        </p>
        <input type="button" class="primary" value="Run Test" onclick="Macchiato.check()">
        <span class="message"></span>
      </div>
    </form>
      <h2>test log</h2>
      <div id="logger" class="console">
        <p class='log-line'></p>
      </div>
  </body>
</html>
