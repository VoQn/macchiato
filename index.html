<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns#">
  <head>
    <title>Macchiato.js - QDD for JavaScript -</title>
    <meta property="og:title" content="Macchiato - QDD test framwork for JavaScript">
    <meta property="og:description" content="Macchiato is test framwork for JavaScript, inspired by QuickCheck, a similar library for Haskell programs">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://voqn.github.com/macchiato">
    <meta property="og:image" content="http://voqn.github.com/macchiato/img/macchiato.png">
    <link href="img/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href='http://fonts.googleapis.com/css?family=Artifika|Meddon' rel='stylesheet' type='text/css'>
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link href="css/syntax.css" rel="stylesheet" type="text/css">
    <script src="js/rainbow-custom.min.js" type="text/javascript"></script>
    <script src="js/macchiato.min.js" type="text/javascript"></script>
    <script src="js/macchiato-web-util.js" type="text/javascript"></script>
    <!-- example test cases -->
    <script src="js/example-test.js" type="text/javascript"></script>
    <script type="text/javascript">
      add_on_load( function(){
        setInternalAnchorBehavior('header-nav');
        macchiato.setView( htmlView.setSelectors({
            counter_id: 'test-count',
            messenger_id: 'test-message',
            logger_id: 'test-log'
          }));
        initTestConstroller({
          counter_id: 'test-count',
          verbose_id: 'verbose',
          runner_id: 'test-runner'
        });
      });
    </script>
  </head>
  <body id="top">
    <header>
     <nav id="header-nav">
      <h4>Macchiato.js</h4>
      <ul>
        <li><a href="#top">Top</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#demo">Demo</a></li>
        <li><a href="#usage">Usage</a></li>
        <li><a href="http://github.com/VoQn/Macchiato">Repository</a></li>
      </ul>
     </nav>
     <hgroup>
       <h1>Macchiato.js</h1>
       <h3>Qualitative Driven Development for JavaScript</h3>
     </hgroup>
    </header>
    <a href="https://github.com/VoQn/macchiato">
       <img id="fork-me-ribbon" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub">
    </a>
    <article>
    <section>
    <div class="caution">
      <h2>CAUTION</h2>
      <p>This project is under development now.<br>Sorry to keep you waiting.</p>
      <p>Please see <a href="https://github.com/VoQn/macchiato/issues/milestones">GitHub Milestones</a></p>
    </div>
    </section>
    <section id="about">
      <div>
        <h2>What's "Macchiato.js" ?</h2>
        <h3>Inspired by QuickCheck</h3>
        <p><i>Macchiato</i> is a testing framework for JavaScript, inspired by <a href="http://hackage.haskell.org/package/QuickCheck-2.4.2">QuickCheck</a>, a similar library for <a href="http://www.haskell.org/">Haskell</a> programs.</p>
        <blockquote>
          <p>QuickCheck is a library for random testing of program properties.</p>
          <p>The programmer provides a specification of the program, in the form of properties which functions should satisfy, and QuickCheck then tests that the properties hold in a large number of randomly generated cases.</p>
          <p>Specifications are expressed in Haskell, using combinators defined in the QuickCheck library. QuickCheck provides combinators to define properties, observe the distribution of test data, and define test data generators.</p>
        </blockquote>
        <p><em>from <a href="http://hackage.haskell.org/package/QuickCheck-2.4.2">QuickCheck module description</a></em></p>
      </div>
    </section>
    <section id="demo">
      <div>
        <h2>Demo</h2>
        <div>
          <pre class="sample-code"><code data-language="javascript">macchiato.stock({
  'number x, y =&gt; x + y == y + x':
    arbitrary( 'number', 'number' ).property( function( x, y ){
        return x + y === y + x;
  }),
  'string str =&gt; str can be regarded as boolean that is empty or not':
    arbitrary( 'string' ).property( function( str ){
        if ( str.length === 0 ){
          return false === !!str;
        }
        return true === !!str;
  }),
  'integer x, y (x !== y) =&gt; x - y !== y - x' :
    arbitrary( 'integer', 'integer' ).property( function( x, y ){
        return where( [ x !== y ], function(){
          return x - y !== y - x;
        });
  })
});</code></pre>
        </div>
      <form id="test-control">
      <div>
        <label class="input-with-label">
          <input id ="test-count" type="text" value="100" onkeyDown="return numOnly()">tests
        </label>
        <label class="input-with-label">
          <input id="verbose" type="checkbox">verbose
        </label>
        <input id="test-runner" type="button" class="primary" value="Run Test">
        <p class="test-result"><span id="test-message" class="message">Let's Try!</span></p>
      </div>
    </form>
      <div id="logger" class="console">
        <p id="test-log" class='log-line'><!-- dump test log --></p>
      </div>
    </div>
    </section>
      <section id="usage">
        <div>
          <h2>Usage</h2>
          <h3>Register Test Suites</h3>
            <p><code class="inline" data-language="javascript">macchiato.stock( labeled_properties )</code></p>
            <pre class="sample-code"><code data-language="javascript">macchiato.stock({ // stock test properties as object
    'number x, y =&gt; x + y === y + x' : // &lt;label&gt;:&lt;callback&gt;
        arbitrary( 'number', 'number' ).property( function( x, y ){
            return x + y === y + x, // boolean
        })
    });</code></pre>
          <h3>Run Test Suites</h3>
            <p><code class="inline" data-language="javascript">macchiato.taste()</code></p>
            <pre class="sample-code"><code data-language="javascript">macchiato.taste(); // check all stocked test suites</code></pre>
            <p>in default, macchiato.js generate 100 pattern arguments per test-property.</p>
          <h3>See sample Generator works</h3>
            <p><code class="inline" data-language="javascript">arbitrary( type ).sample( [ opt_count ] )</code></p>
            <pre class="sample-code"><code data-language="javascript">arbitrary( 'boolean' ).sample() // [ true, false, false, true, true ]
arbitrary( 'boolean' ).sample( 5 ); // [ false, false, true, false, true ]

// in default, return array has 10 elements
arbitrary( 'integer' ).sample(); // [ 0, 1, 1, 0, -1, 6, 6, -12, -2, 16 ]</code></pre>
          <h3>Use adhoc new type generator</h3>
            <p><code class="inline" data-language="javascript">arbitrary( type ).fmap( modifier )</code></p>
            <pre class="sample-code"><code data-language="javascript">// Non Negative Integer Generator
var nonNegativeNumberProperty = arbitrary( 'integer' ).fmap( Math.abs ).property( function( x ){
  return x &gt; -1;
});</code></pre>
          <h3>Register User generator</h3>
            <p><code class="inline" data-language="javascript">arbitrary( new_type ).recipe( generator )</code></p>
            <pre class="sample-code"><code data-language="javascript">arbitrary.( 'hoge' ).recipe(
    combinator.elements( [ 'hoge', 'huga', 'piyo', 'foo', 'bar', 'baz' ] )

arbitrary.sample(); // "foo", "bar", "bar", "hoge", "piyo", "baz", "hoge", "foo", "huga", "foo"
);</code></pre>
            <p><code class="inline" data-language="javascript">arbitrary( type ).fmap( modifier ).recipeAs( new_type )</code></p>
            <pre class="sample-code"><code data-language="javascript">arbitrary( 'integer' ).fmap( function( n ){
    var x = Math.max( Math.abs( n ), 1 );
    return tuple( x, x % 15 ? x % 5 ? x % 3 ? '' + x : 'Fizz' : 'Buzz' : 'FizzBuzz' );
}).recipeAs( 'fizzbuzz' );

arbitrary( 'fizzbuzz' ).sample(); // (1,"1"),  (2,"2"), (1,"1"), (2,"2"), (3,"Fizz"), (4,"4"), (5,"Buzz"), (15,"FizzBuzz"), (7,"7"), (27,"Fizz")</code></pre>
        </div>
      </section>
    </article>
    <footer>
      <div id="footer-high">
        <nav>
          <h4>Macchiato.js</h4>
          <ul>
            <li>About</li>
            <li>Sample</li>
            <li>API Refference</li>
            <li><a href="http://github.com/VoQn/Macchiato">Repository</a></li>
          </ul>
        </nav>
        <nav>
          <h4>Other Projects</h4>
          <ul>
            <li><a href="http://github.com/yaakaito/NLTQuickCheck">yaakaito/NLTQuickCheck</a></li>
            <li><a href="http://github.com/VoQn/ZeroFixFramework">VoQn/ZeroFixFramework</a></li>
            <li><a href="http://rosylilly.github.com/QueenCheck">rosililly/QueenCheck</a>
          </ul>
        </nav>
        <nav>
          <h4>Powered by</h4>
          <ul>
            <li><a href="http://craig.is/making/rainbows">Rainbow</a> - Code Syntax Highlight</li>
          </ul>
        </nav>
      </div>
      <div id="footer-low">
        <p>&copy;2012 VoQn all rights reseaved<p>
      </div>
    </footer>
  </body>
</html>
